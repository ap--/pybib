#!/usr/bin/env python3

import pybib

import argparse

driver = pybib.drivers.DXDoi()

parser = argparse.ArgumentParser(description='Turn a file of [cite-key: DOI]* into a valid bibtex file')
parser.add_argument('file', type=str, help='The filename to parse')
parser.add_argument('-o', '--out', type=str, help='The filename to write the entries to')
parser.add_argument('-v', '--verbose', action='store_true', help='Print information while retrieving entries')

args = parser.parse_args()

verbose = args.verbose or args.out

pybib.convert_file(args.file, driver, args.out, verbose)
